import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.List;
import java.util.Map;
import java.util.regex.Matcher;
import java.util.regex.Pattern;
import java.net.*;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.*;

public class test  { 
  public static void main(String[] args) {
    String busROUTEURL = "https://www.communitytransit.org/busservice/schedules/route/880";
    URLConnection bus = new URL(busROUTEURL).openConnection();

    ct.setRequestProperty("user-Agent",
        "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.95 Safari/537.11");

    BufferedReader in2 = new BufferedReader(new InputStreamReader(bus.getInputStream()));

    String inputLine2 = "";

    String text2 = "";
    while ((inputLine = in2.readLine()) != null) {
      text2 += inputLine2 + "\n";

    }
    System.out.println(text2);
    in2.close();

    Pattern timeStart = Pattern.compile("<td class=\"text-center\"(.*?)</td>");
    Pattern timeStop = Pattern.compile("<td class=\"text-center\"(.*?)<a href=(.*?)>e</a></td>");


    Matcher travelTimeStart = timeStart.matcher(text);
    Matcher travelTimeStop = timeStop.matcher(text);
    
    // List<String> destRoutes = new LinkedList<>();

    ArrayList<String> eachRouteTime = new ArrayList<>();

    SimpleDateFormat format = new SimpleDateFormat("h:mm a");
    while (travelTimeStart.find()) {
      Date t1 = format.parse(travelTimeStart);
      Date t2 = format.parse(travelTimeStop);

      long diff = t2.getTime() - t1.getTime();
      long diffMinutes = diff / (60 * 1000);         
                       
      System.out.println("Time in minutes: " + diffMinutes + " minutes.");         

      eachRouteTime.add(matcher.group(3));
    }

    System.out.println("Bus Trips Lengths in Minutes are: ");
  }
}

String busROUTEURL = "https://www.communitytransit.org/busservice/schedules/route/880";
    URLConnection bus = new URL(busROUTEURL).openConnection();

    bus.setRequestProperty("user-Agent",
        "Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.95 Safari/537.11");

    BufferedReader in2 = new BufferedReader(new InputStreamReader(bus.getInputStream()));

    String inputLine2 = "";

    String text2 = "";
    while ((inputLine2 = in2.readLine()) != null) {
      text2 += inputLine2 + "\n";

    }
    System.out.println(text2);
    in2.close();

    Pattern timeStart = Pattern.compile("<tr><td class=\"text-center\"(.*?)</td><tr>");
    Pattern timeStop = Pattern.compile("<td class=\"text-center\"(.*?)<a href=(.*?)>e</a></td>");


    Matcher travelTimeStart = timeStart.matcher(text2);
    Matcher travelTimeStop = timeStop.matcher(text2);
    
    // List<String> destRoutes = new LinkedList<>();

    ArrayList<String> eachRouteTime = new ArrayList<>();

    // SimpleDateFormat format = new SimpleDateFormat("h:mm a");
    while (travelTimeStart.find()) {
      System.out.println(travelTimeStart.group(1));
      // System.out.println(travelTimeStop.group(1));

      // Date t1 = format.parse(travelTimeStart);
      // Date t2 = format.parse(travelTimeStop);

      // long diff = t2.getTime() - t1.getTime();
      // long diffMinutes = diff / (60 * 1000);         
                       
      // System.out.println("Time in minutes: " + diffMinutes + " minutes.");         

      // eachRouteTime.add(travelTimeStart.group(3));
      // eachRouteTime.add(travelTimeStop.group(3));
    }

    // System.out.println("Bus Trips Lengths in Minutes are: ");
  }
}

 

  // @Override
  // public Map<String, Map<String, String>> getBusRoutesUrls(char destInitial) {
  //   // TODO Auto-generated method stub
  //   return null;
  // }

  // @Override
  // public Map<String, List<Long>> getBusRouteTripsLengthsInMinutesToAndFromDestination(
  //     Map<String, String> destinationBusesMap) {
  //   // TODO Auto-generated method stub
  //   return null;
  // }
